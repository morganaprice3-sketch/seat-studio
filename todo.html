<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Event Focus Board</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Fraunces:opsz,wght@9..144,600;9..144,700&family=Inter:wght@400;500;600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="todo.css" />
  </head>
  <body>
    <main class="page">
      <header class="hero">
        <p class="eyebrow">Realtime Shared Task Studio</p>
        <h1>Event Focus Board</h1>
        <p class="sub">A calm place to keep momentum, assign work, and stay aligned.</p>
        <div class="controls-actions hero-actions">
          <button id="copyLinkBtn" class="btn">Copy Share Link</button>
          <button id="saveSnapshotBtn" class="btn">Save Snapshot</button>
        </div>
      </header>

      <section class="card add-card">
        <h2>Add Task</h2>
        <div class="task-form-grid">
          <label class="task-field">
            Task
            <input id="taskTitle" type="text" placeholder="Finalize VIP arrivals script" />
          </label>
          <label class="priority-field">
            Priority
            <div class="priority-buttons" role="group" aria-label="Task priority">
              <button type="button" class="priority-btn active" data-priority="P1">Friday</button>
              <button type="button" class="priority-btn" data-priority="P2">Saturday</button>
              <button type="button" class="priority-btn" data-priority="P3">Sunday</button>
            </div>
            <input id="taskPriority" type="hidden" value="P1" />
          </label>
          <label>
            Assign To
            <input id="taskAssignee" type="text" placeholder="Ari" />
          </label>
          <label class="notes-field">
            Notes
            <textarea id="taskNotes" rows="3" placeholder="Context, dependencies, or reminders"></textarea>
          </label>
        </div>
        <div class="controls-actions">
          <button id="addTaskBtn" class="btn primary">Add Task</button>
        </div>
      </section>

      <section class="card list-card">
        <h2>Tasks</h2>
        <div class="view-actions">
          <button class="pill active" data-view="all">All</button>
          <button class="pill" data-view="unassigned">Unassigned</button>
          <button class="pill" data-view="byPerson">By Person</button>
        </div>
        <div id="personFilterWrap" class="person-filter-wrap hidden">
          <label>
            Person
            <select id="personFilter"></select>
          </label>
        </div>
        <div class="priority-board">
          <section class="priority-column">
            <h3>Friday</h3>
            <div id="p1List" class="task-list priority-dropzone" data-priority="P1"></div>
          </section>
          <section class="priority-column">
            <h3>Saturday</h3>
            <div id="p2List" class="task-list priority-dropzone" data-priority="P2"></div>
          </section>
          <section class="priority-column">
            <h3>Sunday</h3>
            <div id="p3List" class="task-list priority-dropzone" data-priority="P3"></div>
          </section>
        </div>
        <section class="completed-section">
          <h3>Completed</h3>
          <div id="completedList" class="task-list"></div>
        </section>
        <div class="controls-actions">
          <button id="clearAllTasksBtn" class="btn">Clear All Tasks</button>
        </div>
      </section>
    </main>

    <div id="editModal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="editTaskTitle">
      <div class="modal-card">
        <h2 id="editTaskTitle">Edit Task</h2>
        <div class="task-form-grid">
          <label class="task-field">
            Task
            <input id="editTaskTitleInput" type="text" />
          </label>
          <label>
            Assign To
            <input id="editTaskAssigneeInput" type="text" />
          </label>
          <label class="notes-field">
            Notes
            <textarea id="editTaskNotesInput" rows="4"></textarea>
          </label>
        </div>
        <div class="controls-actions">
          <button id="saveEditTaskBtn" class="btn primary">Save Changes</button>
          <button id="cancelEditTaskBtn" class="btn">Cancel</button>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="todo.js"></script>
  </body>
</html>
